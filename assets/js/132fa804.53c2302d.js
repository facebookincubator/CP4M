"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[181],{3905:(e,t,n)=>{n.d(t,{Zo:()=>l,kt:()=>d});var a=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var p=a.createContext({}),c=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},l=function(e){var t=c(e.components);return a.createElement(p.Provider,{value:t},e.children)},g="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,p=e.parentName,l=i(e,["components","mdxType","originalType","parentName"]),g=c(n),u=o,d=g["".concat(p,".").concat(u)]||g[u]||m[u]||r;return n?a.createElement(d,s(s({ref:t},l),{},{components:n})):a.createElement(d,s({ref:t},l))}));function d(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,s=new Array(r);s[0]=u;var i={};for(var p in t)hasOwnProperty.call(t,p)&&(i[p]=t[p]);i.originalType=e,i[g]="string"==typeof e?e:o,s[1]=i;for(var c=2;c<r;c++)s[c]=n[c];return a.createElement.apply(null,s)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},8611:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>s,default:()=>m,frontMatter:()=>r,metadata:()=>i,toc:()=>c});var a=n(7462),o=(n(7294),n(3905));const r={sidebar_position:1},s="Connecting to Messenger",i={unversionedId:"messaging-integrations/connecting-to-messenger",id:"messaging-integrations/connecting-to-messenger",title:"Connecting to Messenger",description:"To connect CP4M to Facebook Messenger, you will need:",source:"@site/docs/messaging-integrations/connecting-to-messenger.md",sourceDirName:"messaging-integrations",slug:"/messaging-integrations/connecting-to-messenger",permalink:"/CP4M/docs/messaging-integrations/connecting-to-messenger",draft:!1,editUrl:"https://facebookincubator.github.io/CP4M/docs/intro/docs/messaging-integrations/connecting-to-messenger.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Messaging Integrations",permalink:"/CP4M/docs/category/messaging-integrations"},next:{title:"Connecting to Instagram Direct",permalink:"/CP4M/docs/messaging-integrations/connecting-to-instagram-direct"}},p={},c=[{value:"Getting Meta developer access",id:"getting-meta-developer-access",level:2},{value:"Creating a Meta app",id:"creating-a-meta-app",level:2},{value:"Create a Facebook page",id:"create-a-facebook-page",level:2},{value:"Enabling Messenger API Access on your Meta app",id:"enabling-messenger-api-access-on-your-meta-app",level:2}],l={toc:c},g="wrapper";function m(e){let{components:t,...r}=e;return(0,o.kt)(g,(0,a.Z)({},l,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"connecting-to-messenger"},"Connecting to Messenger"),(0,o.kt)("p",null,"To connect CP4M to Facebook Messenger, you will need:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"A Facebook account registered as a Meta developer"),(0,o.kt)("li",{parentName:"ol"},"A Meta app to integrate with Meta APIs"),(0,o.kt)("li",{parentName:"ol"},"A Facebook Page for users to interact with over Messenger")),(0,o.kt)("h2",{id:"getting-meta-developer-access"},"Getting Meta developer access"),(0,o.kt)("p",null,"To register as a Meta developer, you can follow the steps ",(0,o.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/development/register"},"here"),"."),(0,o.kt)("h2",{id:"creating-a-meta-app"},"Creating a Meta app"),(0,o.kt)("p",null,"You can see all of your existing Meta developer apps in the ",(0,o.kt)("a",{parentName:"p",href:"https://developers.facebook.com/apps/"},"Meta Developer App Dashboard"),"."),(0,o.kt)("p",null,"To create a new app, click on the ",(0,o.kt)("strong",{parentName:"p"},"Create App")," button. The steps for the app creation process are detailed ",(0,o.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/development/create-an-app"},"here"),"."),(0,o.kt)("h2",{id:"create-a-facebook-page"},"Create a Facebook page"),(0,o.kt)("p",null,"If you don't already have a Facebook page for Messenger interactions, you can follow the steps ",(0,o.kt)("a",{parentName:"p",href:"https://www.facebook.com/business/help/1199464373557428?id=418112142508425"},"here")," to create a new page."),(0,o.kt)("h2",{id:"enabling-messenger-api-access-on-your-meta-app"},"Enabling Messenger API Access on your Meta app"),(0,o.kt)("p",null,"In the ",(0,o.kt)("a",{parentName:"p",href:"https://developers.facebook.com/apps/"},"Meta Developer App Dashboard"),":"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Click on your Meta app"),(0,o.kt)("li",{parentName:"ol"},"On the ",(0,o.kt)("strong",{parentName:"li"},"Dashboard")," page, find the ",(0,o.kt)("strong",{parentName:"li"},"Add products to your app")," section."),(0,o.kt)("li",{parentName:"ol"},"On the ",(0,o.kt)("strong",{parentName:"li"},"Messenger")," tile, click the ",(0,o.kt)("strong",{parentName:"li"},"Set up")," button.")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Messenger Developer Dashboard",src:n(8100).Z,width:"1726",height:"1486"})),(0,o.kt)("ol",{start:4},(0,o.kt)("li",{parentName:"ol"},'On the "1. Configure webhooks" section, click the ',(0,o.kt)("strong",{parentName:"li"},"Configure")," button.")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Configure webhooks setup",src:n(292).Z,width:"1658",height:"956"})),(0,o.kt)("ol",{start:5},(0,o.kt)("li",{parentName:"ol"},"Follow the steps in the ",(0,o.kt)("a",{parentName:"li",href:"https://developers.facebook.com/docs/messenger-platform/webhooks"},"Messenger Webhooks documentation")," to configure the Callback URL and Verification Token for your server.")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Callback URL Setup",src:n(6597).Z,width:"1270",height:"476"})),(0,o.kt)("ol",{start:6},(0,o.kt)("li",{parentName:"ol"},'On the "2. Generate access tokens" section, click the ',(0,o.kt)("strong",{parentName:"li"},"Add Subscriptions")," button on an existing Facebook page which you would like your app to have Messenger API access.")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Messenger add subscriptions",src:n(3270).Z,width:"2994",height:"884"})),(0,o.kt)("ol",{start:7},(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"At minimum, select the following Page Subscriptions. Learn more about all the Page Subscription options ",(0,o.kt)("a",{parentName:"p",href:"https://developers.facebook.com/docs/messenger-platform/webhooks#subscribe-to-meta-webhooks"},"here"),":\na. messages\nb. messaging_postbacks")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Click the ",(0,o.kt)("strong",{parentName:"p"},"Confirm")," button to save your page subscription choices."))),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Messenger choose subscriptions",src:n(8958).Z,width:"1052",height:"666"})),(0,o.kt)("ol",{start:9},(0,o.kt)("li",{parentName:"ol"},'Finally, on the "3. Complete App Review" section, follow the steps to complete the App Review process so that your app can access production data. You can learn more about Meta\'s app review process ',(0,o.kt)("a",{parentName:"li",href:"https://developers.facebook.com/docs/resp-plat-initiatives/app-review"},"here"),".")))}m.isMDXComponent=!0},8100:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/meta_developer_dashboard_messenger-fd3c42be73334eeb6f558f2555f8c0a6.png"},3270:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/meta_developer_messenger_add_subscriptions-60a9c2f2f6db93f1b1747b8532dc2377.png"},6597:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/meta_developer_messenger_callback_url-ab5aabc541f1f902a01e42cff52de707.png"},8958:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/meta_developer_messenger_choose_subscriptions-9c1678f18b9a11a28862d2b5ef12e30e.png"},292:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/meta_developer_messenger_webhooks-d9f28171512e99de8c9275b86cde966e.png"}}]);